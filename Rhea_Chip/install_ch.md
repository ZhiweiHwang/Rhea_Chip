# RheaChip pipeline

------

**RheaCHIP** 是基于GATK the best practices 搭建的一套轻便高效的NGS信息分析流程，流程能够准确快速地实现NGS数据SNV/Indel/CNV的变异检测与注释。

RheaChip pipeline分为初级分析、变异检测和变异注释三个部分，安装后可以进行修改配置文件进行个性化的分析与变异注释。

>该软件遵从MIT协议，你可以通过这里[这里](https://github.com/ZhiweiHwang/Rhea_Chip)获取最新的版本，对其进行使用，修改，合并，出版等操作，同时作者并非科班出身，欢迎所有人fork我们，如果你发现流程中的bug或者有更好的解决方案，请联系我。

------

## 环境

RheaChip pipeline 是纯python实现的一套流程，理论上可以移植到任意支持python 2.7的平台进行实验使用，但由于其中调用的部分软件、API等并非存在多平台版本，所以我们建议你配置在具备以下条件的环境上：

> * Basic Unix environment commands
> * Binary / Executable
> * Compiling a binary
> * Adding a binary to your path
> * Command-line shell, terminal or console

同时，RheaChip需要在python (version >= 2.7) 和 Java (version >= 1.7)的环境下使用，由于每个客户机部署的版本并不一致，查看您的版本是否满足。

------

## 安装

RheaChip pipeline运行过程会使用到以下全部（部分）软件，这些软件会在执行安装操作的时候被链接/安装，请确保安装的时候具备对应权限～

> * BWA
> * SAMtools
> * Picard
> * Genome Analysis Toolkit (GATK)
> * SOAPnumke
> * snpEff
> * python libraries

### 安装方法

```
export Rhea_Chip_Home=$HOME
python setup install
python Rhea_Chip/Rhea_Chip/install.py
```
> 软件会被安装到Rhea_Chip_Home下（你可以把$HOME替换成任意的有权限的地址），安装完成后，会在PATH下生成Rhea_Chip_pipeline.py


### 注意

>1. 我们并未为流程所有用到的数据文件提供下载，比如参考基因组信息、dbsnp数据库等，用户需要使用时请自行参照我们提供的demo进行配置。
>2. RheaChip是开源的，但是调用的部分软件或者模块并非如此，请用户自行甄别使用。

------

## 运行
安装完成后，直接执行Rhea_Chip_pipeline.py即可。

```
=> Rhea_Chip_pipeline.py
Usage: Rhea_Chip_pipeline.py [-h] [--version] --samplelist [sample list] --config [config file] [options]

A Simple pipeline for the analysis of human data generated by NGS approaches.

Options:
  --version             show program's version number and exit
  -h, --help            show this help message and exit

  Expected arguments:
    Caution: These parameters are necessary for Rhea_Chip.

    -s FILE, --samplelist=FILE
                        The sample list file
                        Column 1:    sample name
                        Column 2:    family name
                        Column 3:    library
                        Column 4:    FQ file [formact:
                        lane1/fq1:lane1/adapter1;lane1/fq2:lane1/adapter2|
                        lane2/fq1:lane2/adapter1;lane2/fq2:lane2/adapter2|...]
                        Column 5:    case/control
    -c FILE, --config=FILE
                        The config file, contain all specific settings

  Optional arguments:
    Caution: If you do not set these parameters in addition, Rhea_Chip
    will select the default value.

    -o OUTDIR, --outdir=OUTDIR
                        The output dir [ default:
                        `pwd` ]
    -p PROJECT_NAME, --project_name=PROJECT_NAME
                        set your project name

Joey Hwong <joeyhwong@hotmail.com>
```
流程有两个必须参数，必须为流程指定样本信息文件和分析配置文件，你可以在[这里](https://github.com/ZhiweiHwang/Rhea_Chip/tree/master/Rhea_Chip/config/config)获得类似的demo。


------

再一次感谢您花费时间阅读这份说明，祝您好运！

作者 [@JoeyHwong](https://github.com/ZhiweiHwang)    
2016 年 05月 15日    



